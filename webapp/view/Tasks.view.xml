<mvc:View
	controllerName="gantt.chart.app.controller.Tasks"
	height="100%"
	xmlns="sap.gantt.simple"
	xmlns:axistime="sap.gantt.axistime"
	xmlns:config="sap.gantt.config"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:shapes="sap.gantt.simple.shapes"
	xmlns:table="sap.ui.table"
	xmlns:m="sap.m"
	xmlns:core="sap.ui.core"
	xmlns:rm="sap.ui.table.rowmodes"
>
	<GanttChartContainer>
		<toolbar>
			<ContainerToolbar showSearchButton="false">
				<m:Select
					id="taskAlignment"
					forceSelection="false"
					selectedKey="Middle"
					change="onTaskAlignmentChange"
				>
					<m:items>
						<core:Item
							key="Top"
							text="Task Alignment - Top"
						/>
						<core:Item
							key="Middle"
							text="Task Alignment - Middle"
						/>
						<core:Item
							key="Bottom"
							text="Task Alignment - Bottom"
						/>
					</m:items>
				</m:Select>
			</ContainerToolbar>
		</toolbar>
		<GanttChartWithTable
			id="gantt"
			shapeSelectionMode="Single"
		>
		<!-- <axisTimeStrategy>
			<axistime:ProportionZoomStrategy>
				<axistime:totalHorizon>
					<config:TimeHorizon
							startTime="20181029000000"
							endTime="20181129000000"/>
				</axistime:totalHorizon>
				<axistime:visibleHorizon>
					<config:TimeHorizon
							startTime="20181029000000"
							endTime="20181129000000"/>
				</axistime:visibleHorizon>
			</axistime:ProportionZoomStrategy>
		</axisTimeStrategy> -->
			<table>
				<table:TreeTable
					selectionMode="Single"
					selectionBehavior="RowSelector"
					enableColumnReordering="true"
					rows="{
						path: '/projects',
						parameters: {
							arrayNames: ['projects', 'tasks', 'subtasks'],
							numberOfExpandedLevels: 3
						}
					}"
				>
					<table:columns>
						<table:Column>
							<m:Text text="Col 1" />
							<table:template>
								<m:Label text="{name}" />
							</table:template>
						</table:Column>
					</table:columns>
					<table:rowMode>
						<rm:Auto minRowCount="12" />
					</table:rowMode>
					<table:rowSettingsTemplate>
						<GanttRowSettings
							rowId="{id}"
							shapes1="{
								path: 'projects',
								templateShareable: false
							}"
							shapes2="{
								path: 'tasks',
								templateShareable: false
							}"
							shapes3="{
								path: 'subtasks',
								templateShareable: false
							}"
						>
							<shapes1>
								<shapes:Task
									time="{
										path: 'startDate',
										formatter: '.fnTimeConverter'
									}"
									endTime="{
										path: 'endDate',
										formatter: '.fnTimeConverter'
									}"
									type="SummaryExpanded"
									color="sapUiAccent5"
								/>
							</shapes1>
							<shapes2>
								<shapes:Task
									time="{
										path: 'startDate',
										formatter: '.fnTimeConverter'
									}"
									endTime="{
										path: 'endDate',
										formatter: '.fnTimeConverter'
									}"
								/>
							</shapes2>
							<shapes3>
								<shapes:Task
									time="{
										path: 'startDate',
										formatter: '.fnTimeConverter'
									}"
									endTime="{
										path: 'endDate',
										formatter: '.fnTimeConverter'
									}"
								/>
							</shapes3>
						</GanttRowSettings>
					</table:rowSettingsTemplate>
				</table:TreeTable>
			</table>
		</GanttChartWithTable>
	</GanttChartContainer>
</mvc:View>